{% extends 'base.html' %}

{% load static %}

{% block content %}

<section class="section-content padding-y bg">
    <div class="container">
    
    <!-- ============================ COMPONENT 1 ================================= -->
    <div class="card">
        <div class="row no-gutters">
            <aside class="col-md-6">
    <article class="gallery-wrap"> 
        <div class="img-big-wrap">
           <a href="#"><img src="{{ single_product.images.url }}" class="img-fluid"></a>
        </div> <!-- img-big-wrap.// -->
        
    </article> <!-- gallery-wrap .end// -->
            </aside>
            <main class="col-md-6 border-left">
              
              <form action="{% url 'add_cart' single_product.id %}" method="POST">
              {% csrf_token %}
              <article class="content-body">
    
      
    <h2 class="title">{{ single_product.product_name }}</h2>
    
    <div class="mb-3"> 
        <var class="price h4">{{ single_product.price }}</var> 
    </div> 
    
    <p>{{single_product.description}}</p>
    
    
    <hr>
        <div class="row">
            <div class="item-option-select">
                <h6>Choose Color</h6>
                <select name="color" id="color" class="form-control" required>
                  <option value="" disabled selected>Select a color</option>
                  {% if variations.color %}
                    {% for variation in variations.color %}
                      <option value="{{ variation.variation_value | lower }}">{{ variation.variation_value | capfirst }}</option>
                    {% endfor %}
                  {% endif %}
                </select>
            </div>
        </div> <!-- row.// -->
        <div class="row">
            <div class="item-option-select">
                <h6>Select Size</h6>
                <select name="size" id="size" class="form-control">
                  <option value="" disabled selected>Select a size</option>
                  {% if variations.size %}
                    {% for variation in variations.size %}
                      <option value="{{ variation.variation_value | lower }}">{{ variation.variation_value | upper }}</option>
                    {% endfor %}
                  {% endif %}
                </select> 
            </div>
        </div> <!-- row.// -->
        <hr>
        {% if single_product.stock > 0 %}

            <a href="{% url 'add_cart' single_product.id %}" class="btn btn-primary"> <span class="text">Add to cart</span> <i class="fas fa-shopping-cart"></i>  </a>
          
        {% else %}
          <button type ="submit" class="btn btn-secondary disabled"> <span class="text">Out of Stock</span> <i class="fas fa-shopping-cart"></i>  </button>
        {% endif %}
    </article> <!-- product-info-aside .// -->
  </form>          
  </form></main> <!-- col.// -->
        </div> <!-- row.// -->
    </div> <!-- card.// -->
    <!-- ============================ COMPONENT 1 END .// ================================= -->
    
    <br>
    
    <!-- ============================ VIRTUAL TRY-ON SECTION ================================= -->
    <div class="card">
        <div class="card-header">
            <h4>Virtual Try-On</h4>
        </div>
        <div class="card-body">
            <!-- VTon Tabs -->
            <ul class="nav nav-tabs" id="vtonTabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="image-vton-tab" data-toggle="tab" href="#image-vton" role="tab">Image Gen VTon</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="video-vton-tab" data-toggle="tab" href="#video-vton" role="tab">Video Gen VTon</a>
                </li>
            </ul>
            
            <!-- VTon Tab Content -->
            <div class="tab-content" id="vtonTabsContent">
                <!-- Image Gen VTon Tab -->
                <div class="tab-pane fade show active" id="image-vton" role="tabpanel">
                    <div class="mt-3">
                        <h5>Upload Images for Image-based Virtual Try-On</h5>
                        <form id="image-vton-form">
                            <div class="form-group">
                                <label for="person-image">Person Image:</label>
                                <input type="file" class="form-control-file" id="person-image" accept="image/*" required>
                            </div>
                            <div class="form-group">
                                <label for="cloth-image">Cloth Image:</label>
                                <input type="file" class="form-control-file" id="cloth-image" accept="image/*" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Generate Try-On (Image)</button>
                        </form>
                        <div id="image-vton-result" class="mt-3" style="display: none;">
                            <h5>Result:</h5>
                            <img id="image-vton-output" src="" alt="VTon Result" class="img-fluid">
                        </div>
                    </div>
                </div>
                
                <!-- Video Gen VTon Tab -->
                <div class="tab-pane fade" id="video-vton" role="tabpanel">
                    <div class="mt-3">
                        <h5>Upload Image for Video-based Virtual Try-On</h5>
                        <form id="video-vton-form">
                            <div class="form-group">
                                <label for="video-person-image">Person Image:</label>
                                <input type="file" class="form-control-file" id="video-person-image" accept="image/*" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Generate Try-On (Video)</button>
                        </form>
                        <div id="video-vton-result" class="mt-3" style="display: none;">
                            <h5>Result:</h5>
                            <video id="video-vton-output" src="" controls class="img-fluid"></video>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================ VIRTUAL TRY-ON SECTION END ================================= -->

    <br>
    
    <div class="row">
                <div class="col-md-9">
    
        <header class="section-heading">
            <h3>Customer Reviews </h3>  
            
        </header>
    
        <article class="box mb-3">
            <div class="icontext w-100">
                <img src="./images/avatars/avatar1.jpg" class="img-xs icon rounded-circle">
                <div class="text">
                    <span class="date text-muted float-md-right">24.04.2020 </span>  
                    <h6 class="mb-1">Mike John </h6>
                    
                </div>
            </div> <!-- icontext.// -->
            <div class="mt-3">
                <p>
                    Dummy comment Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip
                </p>	
            </div>
        </article>
    
        
    
        </div> <!-- col.// -->
    </div> <!-- row.// -->
    
    
    </div> <!-- container .//  -->
    </section>
    <!-- ========================= SECTION CONTENT END// ========================= -->
     {% endblock %}